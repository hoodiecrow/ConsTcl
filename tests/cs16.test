
package require tcltest
namespace import -force tcltest::*
source constcl.tcl

test read-23.0 {try reading a vector} -body {
    pew "'#(1 2 3)"
} -output "#(1 2 3)\n"

test read-23.1 {try reading a vector, with non-normal expression} -body {
    pew "'#(1 2 (+ 1 2))"
} -output "#(1 2 (+ 1 2))\n"

test read-23.2 {try read-expr on a couple of vectors} -setup {
    makeFile {  #(1 2 3)  #(11 22 33)} testrr.lsp
    set p [pe {(open-input-file "testrr.lsp")}]
} -body {
    rw $p
    rw $p
} -cleanup {
    ::constcl::close-input-port $p
    removeFile testrr.lsp
} -output "#(1 2 3)\n#(11 22 33)\n"


cleanupTests
return
