package require tcltest
source constcl.tcl
namespace import -force tcltest::*


test read-19.0 {try reading quasiquoted expression} -body {
    pw "`(list 1 2 ,@foo)"
} -output "(quasiquote (list 1 2 (unquote-splicing foo)))\n"

test read-19.1 {try read-expr on quasiquoted expr} -setup {
    makeFile {  `(a b) } testrr.lsp
    set p [pe {(open-input-file "testrr.lsp")}]
} -body {
    rw $p
} -cleanup {
    ::constcl::close-input-port $p
    removeFile testrr.lsp
} -output "(quasiquote (a b))\n"



cleanupTests
return
