
package require tcltest
namespace import -force tcltest::*
source constcl.tcl

test read-13.0 {try reading a character} -body {
    ::constcl::display [p {#\A}]
    ::constcl::display [p "#\\space"]
    ::constcl::display [p "#\\newline"]
} -output "A \n"

test read-13.3 {try reading a character} -body {
    set expr [p "#\\foobar"]
    $expr char
} -returnCodes error -result "Invalid character constant #\\foobar"

test read-13.4 {try read-expr on characters} -setup {
    makeFile {  #\A  #\space} testrr.lsp
    set p [pe {(open-input-file "testrr.lsp")}]
} -body {
    rw $p
    rw $p
} -cleanup {
    ::constcl::close-input-port $p
    removeFile testrr.lsp
} -output "#\\A\n#\\space\n"



cleanupTests
return
