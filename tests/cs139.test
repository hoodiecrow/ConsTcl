
package require tcltest
namespace import -force tcltest::*
source constcl.tcl

test cons-5.0 {fib-range} -body {
    pew "(define (fib n) (if (< n 2) 1 (+ (fib (- n 1)) (fib (- n 2)))))"
    pew "(define (range a b) (if (= a b) '() (cons a (range (+ a 1) b))))"
    pew "(range 0 10)"
} -output "(0 1 2 3 4 5 6 7 8 9)\n"

test cons-5.1 {fib-range} -body {
    pew "(map fib (range 0 10))"
} -output "(1 1 2 3 5 8 13 21 34 55)\n"

test cons-5.2 {fib-range} -body {
    pew "(map fib (range 0 20))"
} -output "(1 1 2 3 5 8 13 21 34 55 89 144 233 377 610 987 1597 2584 4181 6765)\n"

cleanupTests
return
