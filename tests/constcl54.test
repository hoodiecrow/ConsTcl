
package require tcltest
namespace import -force tcltest::*
source ../constcl.tcl

test cons-7.0 {assignment} -body {
  unbind [S r]
    pew "(begin (define r 10) (set! r 20) r)"
} -output "20\n"

test cons-7.1 {assignment returns a value} -body {
  unbind [S r]
    pew "(begin (define r 10) (set! r 20))"
} -output "20\n"

test cons-7.2 {assignment to an unbound symbol} -body {
    pew "(begin (set! XX 20))"
} -returnCodes error -result "XX is not bound"

cleanupTests
return
