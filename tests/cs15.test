
package require tcltest
namespace import -force tcltest::*
source constcl.tcl

test read-22.0 {try reading unquoted symbol} -body {
    pw ",foo"
} -output "(unquote foo)\n"

test read-22.2 {try read-expr on unquoted expr} -setup {
    makeFile {  ,foo ,@bar} testrr.lsp
    set p [pe {(open-input-file "testrr.lsp")}]
} -body {
    rw $p
    rw $p
} -cleanup {
    ::constcl::close-input-port $p
    removeFile testrr.lsp
} -output "(unquote foo)\n(unquote-splicing bar)\n"



cleanupTests
return
