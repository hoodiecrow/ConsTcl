
package require tcltest
namespace import -force tcltest::*
source ../constcl.tcl

test symbols-1.0 {try symbol?} -body {
    pew {(symbol? 'foo)}
    pew {(symbol? (car '(a b)))}
    pew {(symbol? "bar")}
    pew {(symbol? 'nil)}
    pew {(symbol? '())}
    pew {(symbol? #f)}
} -output "#t\n#t\n#f\n#t\n#f\n#f\n"



test symbols-1.1 {try symbol->string (and string->symbol)} -body {
    pew {(symbol->string 'flying-fish)}
    pew {(symbol->string 'Martin)}
    pew {(symbol->string (string->symbol "Malvina"))}
} -output {"flying-fish"
"martin"
"Malvina"
}

test symbols-1.2 {try symbol->string} -body {
    pew {(string-set! (symbol->string 'flying-fish) 3 #\A)}
} -returnCodes error -result "string is constant"



cleanupTests
return
